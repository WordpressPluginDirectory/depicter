!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r(require("preact/compat"));else if("function"==typeof define&&define.amd)define(["preact/compat"],r);else{var t="object"==typeof exports?r(require("preact/compat")):r(e.PreactCompat);for(var o in t)("object"==typeof exports?exports:e)[o]=t[o]}}(Depicter,(e=>(()=>{"use strict";var r={585:r=>{r.exports=e}},t={};function o(e){var n=t[e];if(void 0!==n)return n.exports;var s=t[e]={exports:{}};return r[e](s,s.exports,o),s.exports}o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};o.r(n),o.d(n,{dpcStoriesProgressBar:()=>p});var s=o(585);const a=e=>{const{className:r="dpc-progress-bar",progress:t=50,id:o,onClick:n}=e;return Depicter.h("div",{className:`${r} ${n?"dpc-progress-bar-clickable":""}`,onClick:()=>n?.(o)},Depicter.h("div",{className:"dpc-progress-bar-value",style:{width:`${t}%`}}))},c=e=>{const{className:r="dpc-stories-progress-bar",storiesData:t=[],goToSlideByClick:o=!1,onProgressClick:n}=e;return Depicter.h("div",{className:r},t.map((e=>Depicter.h(a,{id:e.id,key:e.id,progress:e.progress,onClick:o?n:void 0}))))};function i(){return i=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)({}).hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},i.apply(null,arguments)}const p={component:e=>{const{composer:r,...t}=e,[o,n]=(0,s.useState)(r.navigator.currentIndex||1),[a,p]=(0,s.useState)(0),u=(0,s.useRef)(0),l=(0,s.useRef)(0),[d,f]=(0,s.useState)(Array.from({length:r.navigator.count},((e,r)=>1+r)));(0,s.useEffect)((()=>{let e;r.on("countChange",(()=>{f(Array.from({length:r.navigator.count},((e,r)=>r+1)))}));const t=()=>{const r=l.current+(u.current-l.current)/10;Math.abs(u.current-l.current)>=.02&&p(r),l.current=r,e=window.requestAnimationFrame(t)};return t(),()=>{e&&window.cancelAnimationFrame(e)}}),[r]);const g=(0,s.useMemo)((()=>{const e=[];return d.forEach(((r,t)=>{let n=0;t+1===o?n=a:t<o&&(n=100),e.push({id:`${r}`,progress:n})})),e}),[o,a,d]),m=(e,r)=>{n(r+1),p(0),u.current=0,l.current=0},b=(0,s.useCallback)(((e,r)=>{u.current=r/100*115}),[]),y=(0,s.useCallback)((e=>{r.actions.gotoSection({type:"number",to:parseInt(e,10)-1})}),[r.actions]);return(0,s.useEffect)((()=>(r.on("targetIndexChange",m),r.on("slideshowTimerUpdate",b),()=>{r.off("targetIndexChange",m),r.off("slideshowTimerUpdate",b)})),[r,b]),Depicter.h(c,i({storiesData:g,onProgressClick:y},t))},async:!1};return n})()));